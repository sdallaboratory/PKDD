<mat-card [class.wrapper]="isLevelLessOrEqual(2)" [class.mat-elevation-z0]="!isLevelLessOrEqual(2)">
  
  <header *ngIf="needDrawHeader" [ngStyle]="{'background': countYellow()}">
   
    <div *ngIf="edit">
   
      <div class="title" [ngStyle]="{'font-size.px': countFontSize()}">
        <input matInput class="title-input" [(ngModel)]="contentBlock.title" placeholder="Заголовок">
      </div>
      <div class="subtitle" class="subtitle-input" [ngStyle]="{'font-size.px': countFontSize(true)}">
        <input matInput [(ngModel)]="contentBlock.subtitle" placeholder="Подзаголовок">
      </div>
   
    </div>

    <div *ngIf="!edit">
  
      <div class="title" *ngIf="contentBlock.title !== ''" [ngStyle]="{'font-size.px': countFontSize()}">
        {{contentBlock.title}}
      </div>
      <div class="subtitle" *ngIf="contentBlock.subtitle !== ''" [ngStyle]="{'font-size.px': countFontSize(true)}">
        {{contentBlock.subtitle}}
      </div>
  
    </div>

  </header>
  
  <section>

    <div *ngIf="edit" >
      <mat-select matInput [(value)]="contentBlock.type" (valueChange)="onTypeChanged()">
        <mat-option *ngFor="let type of contentTypes" [value]="type.value">
          {{type.type}}
        </mat-option>
      </mat-select>
    </div>

    <div *ngIf="isContainer">
      <pkdd-content-block *ngFor="let block of contentBlock.subBlocks" [contentBlock]="block" [edit]="edit"></pkdd-content-block>
    </div>
    <div *ngIf="!isContainer">
      <pkdd-content [edit]="edit" [type]="contentBlock.type" [content]="contentBlock.content"> </pkdd-content>
    </div>

    <div class="actions" *ngIf="edit">

        <button mat-icon-button (click)="onBlockDelete()">
          <mat-icon>
            delete_forever
          </mat-icon>
        </button>
        <button [disabled]="!isLevelLessOrEqual(3)"  mat-icon-button (click)="onBlockAdd()">
          <mat-icon>add</mat-icon>
        </button>
        <button mat-icon-button  (click)="onBlockSave()">
          <mat-icon>save</mat-icon>
        </button>
    
    </div>

  </section>

</mat-card>
