<h2>
  Форма обратной свзязи
</h2>

<ng-container *ngIf="issue; else loading">

  <mat-form-field class="type">
    <mat-label>
      Тип обращения
    </mat-label>
    <mat-select [(ngModel)]="issue.type">
      <mat-option [value]="3">
        Задать вопрос
      </mat-option>
      <mat-option [value]="1">
        Сообщить об ошибке
      </mat-option>
      <mat-option [value]="0">
        Внести предложения
      </mat-option>
      <mat-option [value]="2">
        Оставить отзыв
      </mat-option>
    </mat-select>
  </mat-form-field>
  <mat-form-field class="topic">
    <input required matInput [(ngModel)]="issue.title" placeholder="Тема">
  </mat-form-field>

  <mat-form-field *ngIf="issue" class="text" [appearance]="'fill'">
    <mat-label>Текст обращения</mat-label>
    <textarea required [disabled]="!issue" matInput [(ngModel)]="issue.question"
      placeholder="Введите текст обращения..." cdkTextareaAutosize cdkAutosizeMinRows="5"></textarea>
  </mat-form-field>

  <mat-card-actions>
    <button [disabled]="issue.question === '' || issue.title === ''" mat-button (click)="onIssueAdd()">
      Отправить обращение
      <mat-icon>
        send
      </mat-icon>
    </button>
  </mat-card-actions>
</ng-container>

<ng-template #loading>
  <p>
    Загрузка формы...
  </p>
</ng-template>